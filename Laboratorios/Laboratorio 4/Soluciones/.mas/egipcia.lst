     Assembly listing for: egipcia.mas
                Assembled: Wed Oct 15 21:25:40 GMT-05:00 2025

         |                                      / MARIE ASSEMBLY PROGRAM - LAB2C
         |                                      / AUTHOR: JUAN ESTEBAN SÁNCHEZ GARCÍA
         |                                      / EGYPTIAN FRACTION DECOMPOSITION
         |                                      
         |               ORG 100                 
         |                                      
         |                                      / ==============================================
         |                                      / READ NUMBER OF TEST CASES
         |                                      / ==============================================
100 5000 |               INPUT                   
101 218B |               STORE CASE_COUNT        
         |                                      
         |                                      / ==============================================
         |                                      / MAIN LOOP: PROCESS EACH CASE
         |                                      / ==============================================
102 118B |  LOOP_CASES   LOAD CASE_COUNT         
103 8400 |               SKIPCOND 400           / IF CASE_COUNT == 0, END PROGRAM
104 9106 |               JUMP PROCESS_CASE       
105 9111 |               JUMP END_PROGRAM        
         |                                      
         |                                      / ==============================================
         |                                      / READ INPUTS AND CALL EGYPT SUBROUTINE
         |                                      / ==============================================
106 5000 |  PROCESS_CASE INPUT                   
107 218C |               STORE NUM_A             
108 5000 |               INPUT                   
109 218D |               STORE NUM_B             
10A 0112 |               JNS EGYPT              / CALL EGYPTIAN DECOMPOSITION
         |                                      
         |                                          / PRINT 0 TO MARK END OF CASE
10B 1198 |               LOAD ZERO               
10C 6000 |               OUTPUT                  
         |                                      
         |                                          / DECREMENT CASE COUNT
10D 118B |               LOAD CASE_COUNT         
10E 4197 |               SUBT ONE                
10F 218B |               STORE CASE_COUNT        
110 9102 |               JUMP LOOP_CASES         
         |                                      
         |                                      / ==============================================
         |                                      / END PROGRAM
         |                                      / ==============================================
111 7000 |  END_PROGRAM  HALT                    
         |                                      
         |                                      
         |                                      / =====================================================
         |                                      / SUBROUTINE: EGYPTIAN FRACTION DECOMPOSITION (EGYPT)
         |                                      / =====================================================
112 0000 |  EGYPT        HEX 0                   
113 118C |  BEGIN_EGYPT  LOAD NUM_A              
114 8400 |               SKIPCOND 400            
115 9117 |               JUMP CHECK_B_ZERO       
116 9166 |               JUMP END_EGYPT          
         |                                      
117 118D |  CHECK_B_ZERO LOAD NUM_B              
118 8400 |               SKIPCOND 400            
119 911B |               JUMP CASE1              
11A 9166 |               JUMP END_EGYPT          
         |                                      
         |                                      / CASE 1: IF NUM_B DIVIDES NUM_A EXACTLY
11B 1198 |  CASE1        LOAD ZERO               
11C 2195 |               STORE DIV_QUOT          
11D 2196 |               STORE DIV_REM           
11E 118D |               LOAD NUM_B              
11F 2193 |               STORE DIV_A             
120 118C |               LOAD NUM_A              
121 2194 |               STORE DIV_B             
122 0167 |               JNS DIVIDE              
123 218E |               STORE TEMP_REM          
124 118E |               LOAD TEMP_REM           
125 8400 |               SKIPCOND 400            
126 912A |               JUMP CASE2              
127 1195 |               LOAD DIV_QUOT           
128 6000 |               OUTPUT                  
129 9166 |               JUMP END_EGYPT          
         |                                      
         |                                      / CASE 2: IF NUM_A DIVIDES NUM_B EXACTLY
12A 1198 |  CASE2        LOAD ZERO               
12B 2195 |               STORE DIV_QUOT          
12C 2196 |               STORE DIV_REM           
12D 118C |               LOAD NUM_A              
12E 2193 |               STORE DIV_A             
12F 118D |               LOAD NUM_B              
130 2194 |               STORE DIV_B             
131 0167 |               JNS DIVIDE              
132 218E |               STORE TEMP_REM          
133 118E |               LOAD TEMP_REM           
134 8400 |               SKIPCOND 400            
135 9139 |               JUMP CASE3              
136 1195 |               LOAD DIV_QUOT           
137 6000 |               OUTPUT                  
138 9166 |               JUMP END_EGYPT          
         |                                      
         |                                      / CASE 3: GENERAL STEP (NUM_A >= NUM_B)
139 118C |  CASE3        LOAD NUM_A              
13A 418D |               SUBT NUM_B              
13B 8800 |               SKIPCOND 800            
13C 9149 |               JUMP CASE4              
13D 1198 |               LOAD ZERO               
13E 2195 |               STORE DIV_QUOT          
13F 2196 |               STORE DIV_REM           
140 118C |               LOAD NUM_A              
141 2193 |               STORE DIV_A             
142 118D |               LOAD NUM_B              
143 2194 |               STORE DIV_B             
144 0167 |               JNS DIVIDE              
145 218C |               STORE NUM_A             
146 1195 |               LOAD DIV_QUOT           
147 6000 |               OUTPUT                  
148 9113 |               JUMP BEGIN_EGYPT        
         |                                      
         |                                      / CASE 4: NUM_A < NUM_B
149 1198 |  CASE4        LOAD ZERO               
14A 2195 |               STORE DIV_QUOT          
14B 2196 |               STORE DIV_REM           
14C 2192 |               STORE MULT_ACC          
14D 118D |               LOAD NUM_B              
14E 2193 |               STORE DIV_A             
14F 118C |               LOAD NUM_A              
150 2194 |               STORE DIV_B             
151 0167 |               JNS DIVIDE              
152 1195 |               LOAD DIV_QUOT           
153 3197 |               ADD ONE                 
154 218F |               STORE N                 
155 6000 |               OUTPUT                  
         |                                      
         |                                          / NUM_A = NUM_A * N - NUM_B
156 118C |               LOAD NUM_A              
157 2190 |               STORE MULT_A            
158 118F |               LOAD N                  
159 2191 |               STORE MULT_B            
15A 017E |               JNS MULTIPLY            
15B 418D |               SUBT NUM_B              
15C 218C |               STORE NUM_A             
         |                                      
         |                                          / NUM_B = NUM_B * N
15D 1198 |               LOAD ZERO               
15E 2192 |               STORE MULT_ACC          
15F 118D |               LOAD NUM_B              
160 2190 |               STORE MULT_A            
161 118F |               LOAD N                  
162 2191 |               STORE MULT_B            
163 017E |               JNS MULTIPLY            
164 218D |               STORE NUM_B             
         |                                      
165 9113 |               JUMP BEGIN_EGYPT        
         |                                      
166 C112 |  END_EGYPT    JUMPI EGYPT             
         |                                      
         |                                      
         |                                      / =====================================================
         |                                      / SUBROUTINE: INTEGER DIVISION (DIVIDE)
         |                                      / =====================================================
167 0000 |  DIVIDE       HEX 0                   
168 1193 |  LOOP_DIV     LOAD DIV_A              
169 8800 |               SKIPCOND 800            
16A 9172 |               JUMP FIX_DIV            
16B 1193 |               LOAD DIV_A              
16C 4194 |               SUBT DIV_B              
16D 2193 |               STORE DIV_A             
16E 1195 |               LOAD DIV_QUOT           
16F 3197 |               ADD ONE                 
170 2195 |               STORE DIV_QUOT          
171 9168 |               JUMP LOOP_DIV           
         |                                      
172 1193 |  FIX_DIV      LOAD DIV_A              
173 8000 |               SKIPCOND 000            
174 917C |               JUMP END_DIV            
175 1195 |               LOAD DIV_QUOT           
176 4197 |               SUBT ONE                
177 2195 |               STORE DIV_QUOT          
178 1193 |               LOAD DIV_A              
179 3194 |               ADD DIV_B               
17A 2196 |               STORE DIV_REM           
17B 917C |               JUMP END_DIV            
         |                                      
17C 1196 |  END_DIV      LOAD DIV_REM            
17D C167 |               JUMPI DIVIDE            
         |                                      
         |                                      
         |                                      / =====================================================
         |                                      / SUBROUTINE: MULTIPLICATION (MULTIPLY)
         |                                      / =====================================================
17E 0000 |  MULTIPLY     HEX 0                   
17F 1190 |  LOOP_MULT    LOAD MULT_A             
180 8800 |               SKIPCOND 800            
181 9189 |               JUMP END_MULT           
182 1192 |               LOAD MULT_ACC           
183 3191 |               ADD MULT_B              
184 2192 |               STORE MULT_ACC          
185 1190 |               LOAD MULT_A             
186 4197 |               SUBT ONE                
187 2190 |               STORE MULT_A            
188 917F |               JUMP LOOP_MULT          
         |                                      
189 1192 |  END_MULT     LOAD MULT_ACC           
18A C17E |               JUMPI MULTIPLY          
         |                                      
         |                                      
         |                                      / =====================================================
         |                                      / VARIABLES
         |                                      / =====================================================
18B 0000 |  CASE_COUNT   DEC 0                   
18C 0000 |  NUM_A        DEC 0                   
18D 0000 |  NUM_B        DEC 0                   
18E 0000 |  TEMP_REM     DEC 0                   
18F 0000 |  N            DEC 0                   
         |                                      
190 0000 |  MULT_A       DEC 0                   
191 0000 |  MULT_B       DEC 0                   
192 0000 |  MULT_ACC     DEC 0                   
         |                                      
193 0000 |  DIV_A        DEC 0                   
194 0000 |  DIV_B        DEC 0                   
195 0000 |  DIV_QUOT     DEC 0                   
196 0000 |  DIV_REM      DEC 0                   
         |                                      
197 0001 |  ONE          DEC 1                   
198 0000 |  ZERO         DEC 0                   
         |                                      
         |               END                     

Assembly successful.

         SYMBOL TABLE
         --------------------------------------------------------
          Symbol       | Defined | References 
         --------------+---------+-------------------------------
          BEGIN_EGYPT  |   113   | 148, 165
          CASE1        |   11B   | 119
          CASE2        |   12A   | 126
          CASE3        |   139   | 135
          CASE4        |   149   | 13C
          CASE_COUNT   |   18B   | 101, 102, 10D, 10F
          CHECK_B_ZERO |   117   | 115
          DIVIDE       |   167   | 122, 131, 144, 151, 17D
          DIV_A        |   193   | 11F, 12E, 141, 14E, 168, 16B, 
                       |         | 16D, 172, 178
          DIV_B        |   194   | 121, 130, 143, 150, 16C, 179
          DIV_QUOT     |   195   | 11C, 127, 12B, 136, 13E, 146, 
                       |         | 14A, 152, 16E, 170, 175, 177
          DIV_REM      |   196   | 11D, 12C, 13F, 14B, 17A, 17C
          EGYPT        |   112   | 10A, 166
          END_DIV      |   17C   | 174, 17B
          END_EGYPT    |   166   | 116, 11A, 129, 138
          END_MULT     |   189   | 181
          END_PROGRAM  |   111   | 105
          FIX_DIV      |   172   | 16A
          LOOP_CASES   |   102   | 110
          LOOP_DIV     |   168   | 171
          LOOP_MULT    |   17F   | 188
          MULTIPLY     |   17E   | 15A, 163, 18A
          MULT_A       |   190   | 157, 160, 17F, 185, 187
          MULT_ACC     |   192   | 14C, 15E, 182, 184, 189
          MULT_B       |   191   | 159, 162, 183
          N            |   18F   | 154, 158, 161
          NUM_A        |   18C   | 107, 113, 120, 12D, 139, 140, 
                       |         | 145, 14F, 156, 15C
          NUM_B        |   18D   | 109, 117, 11E, 12F, 13A, 142, 
                       |         | 14D, 15B, 15F, 164
          ONE          |   197   | 10E, 153, 16F, 176, 186
          PROCESS_CASE |   106   | 104
          TEMP_REM     |   18E   | 123, 124, 132, 133
          ZERO         |   198   | 10B, 11B, 12A, 13D, 149, 15D
         --------------------------------------------------------

